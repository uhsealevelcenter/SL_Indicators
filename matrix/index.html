<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sea Level Products</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="./custom.css">
    
</head>
<body>
    <div class="container">
        <h2>Sea Level Products</h2>
        <p>These example product sets for the Hawaii region are generated through a series of jupyter notebooks. For each indicator type, there is a corresponding map, plot, or table. For more details, click on the linked notebooks in the indicator or indicator type column. Note that projections are not included in this FY2025 set.</p>
        <h3_custom> <center>NOTE: For internal use only. This site and its products are in development.</center></h3_custom>
    <ul class="nav nav-pills">
        <li class="nav-item">
            <a class="nav-link active" id="annual-tab" data-toggle="tab" href="#annual">Annual</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="intraannual-tab" data-toggle="tab" href="#intraannual">Intra-Annual</a>
        </li>
    </ul>
    
    <div class="tab-content">
        <div class="tab-pane fade show active" id="annual">
            <table>
                <tr>
                    <th>Variable</th>
                    <th>Indicator</th>
                    <th>Indicator Type</th>
                    <th>Historical</th>
                    <th>Projections</th>
                </tr>
                <tr>
                    <td rowspan="10">1.0 Sea Level Magnitude</td>
                    <td><a href="https://jwfiedler.github.io/SL_Hawaii/notebooks/regional_and_local/SL_Trend.html">1.1 Sea Level Trend</a></td>
                    <td></td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_small.png'>
                            <div class="hover-content">
                                   <div class="image-container">
                                          <div class="image-container-multi">
                                              <a href="#" download>
                                                  <img src="#" alt="#" class="active">
                                              </a>
                                          </div>
                                          <div class="caption" data-caption-id="sl_magnitude_map">Loading caption...</div>
                                          
                                          <div class="image-container-multi">
                                             <a href="#" download>
                                                 <img id="current-image" src="#" alt="#"></a>
                                          </div>  
                                          <div class="caption" data-caption-id="cmems_trend_rate">Loading caption...</div>
                                   </div>
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <div class="image-container">
                                <div class="image-container-multi">
                                    <a href="#" download>
                                        <img src="#" alt="#" >
                                    </a>
                                    </div>
                                <div class="caption" data-caption-id="sl_magnitude_timeseries_500">Loading caption...</div>
                                <div class="image-container-multi">
                                    <a href="#" download>
                                        <img src="#" alt="#" >
                                    </a>
                                </div>
                                <div class="caption" data-caption-id="sl_magnitude_timeseries">Loading caption...</div>
                            
                            </div>
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png' >
                            <div class="hover-content">
                                <a href="#" download>
                                    <img src="#" alt="#"  >     
                                </a>
                                <div class="caption" data-caption-id="sl_trend_table">Loading caption...</div> 
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_image.png" alt="Projection Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_plot.png" alt="Projection Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_table.png" alt="Projection Table"  >
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td ><a href="https://jwfiedler.github.io/SL_Hawaii/notebooks/regional_and_local/SL_anomaly_annual.html">1.2 Sea Level Anomaly</a></td>
                    <td> </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_small.png'>
                            <div class="hover-content">
                                   <div class="image-container">
                                   
                                   <div class="image-container-multi">
                                       <a href="#" download>
                                           <img id="current-image" src="#" alt="#">
                                   </div>  
                                   <div class="caption" data-caption-id="sl_anomaly_annual_map_decadal">Loading caption...</div>
                               </div>
                               
                               </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <div class="image-container">
                                <div class="image-container-multi">
                                    <a href="#" download>
                                        <img id="current-image" src="#" alt="#"></a>
                                </div>  
                                <div class="caption" data-caption-id="sl_mma_annual_kawaihae">Loading caption...</div>
                                <div class="image-container-multi">
                                    <a href="#" download>
                                        <img id="current-image" src="#" alt="#">
                                </div>  
                                <div class="caption" data-caption-id="sl_mma_annual">Loading caption...</div>
                            </div>
                            
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_historical_annual_table.png" alt="Annual Historical Table"  >
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_annual_image.png" alt="Annual Projection Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_annual_plot.png" alt="Annual Projection Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_annual_table.png" alt="Annual Projection Table"  >
                            </div>
                        </div>
                    </td>
                </tr>
                
                <tr>
                    <td ><a href="https://jwfiedler.github.io/SL_Hawaii/notebooks/regional_and_local/SL_Rankings_annual.html">1.3 Rankings</a></td>
                    <td > </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_small.png'>
                            <div class="hover-content">
                                <a href="#" download>
                                    <img src="#" alt="Annual Historical Rankings Figure" >
                                </a>
                                <div class="caption" data-caption-id="sl_rankings_map">Loading caption...</div>
                            </div>
                        </div>
                        <div class="icon" >
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <a href="plotly/SL_top_10_plot_Kahului.html" target="_blank">
                                    <img src="#" alt="Annual Historical Rankings Plot" >
                                </a>
                            <div class="caption" data-caption-id="sl_rankings_kahului">Loading caption...</div>
                            </div>
                            
                        </div>
                        <div class="icon" ">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png' >
                            <div class="hover-content">
                                <a href="#" download>
                                   <img src="#" alt="Annual Historical Rankings Table" >
                                </a>
                                
                                <div class="caption" data-caption-id="sl_top_10_table_honolulu">Loading caption...</div> 
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_rankings_annual_image.png" alt="Annual Projection Rankings Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_rankings_annual_plot.png" alt="Annual Projection Rankings Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_rankings_annual_table.png" alt="Annual Projection Rankings Table"  >
                            </div>
                        </div>
                    </td>
                </tr>
                
                <tr>
                    <td rowspan="3">1.4 Extremes</td>
                    <td><a href="https://jwfiedler.github.io/SL_Hawaii/notebooks/regional_and_local/SL_Extremes_annual.html">1.4.1 Station-based Stationary</a></td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_small.png'>
                            <div class="hover-content">
                                <img src="#" alt="Annual Historical Extremes Figure"  >
                                <div class="caption" data-caption-id="sl_extremes_map">Loading caption...</div>

                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                   <div class="image-container">
                                   <div class="image-container-multi">
                                          <img src="#" alt="Annual Historical Extremes Plot"  >
                                          <div class="caption" data-caption-id="sl_extremes_monthly_annual_maxima_honolulu">Loading caption...</div>
                                   </div>
                                   <div class="image-container-multi">
                                          <img src="#" alt="Return Values Plot" width="300px" >
                                          <div class="caption" data-caption-id="sl_extremes_return_values_honolulu">Loading caption...</div>
                                   </div>
                                   <div class="image-container-multi">
                                          <img src="#" alt="Return Values Plot"  >
                                          <div class="caption" data-caption-id="sl_extremes_histogram_pp_qq_honolulu">Loading caption...</div>
                                   </div>
                                   </div>
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <a href="#" download>
                                   <img src="#" alt="Annual Historical Extremes Table" height="400px" >
                               </a>
                               <div class="caption" data-caption-id="sl_extremes_table_honolulu">Loading caption...</div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_image.png" alt="Annual Projection Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_plot.png" alt="Annual Projection Extremes Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_table.png" alt="Annual Projection Extremes Table"  >
                            </div>
                        </div>
                    </td>
                </tr>
                
                <tr>
                    <td><a href="https://jwfiedler.github.io/SL_Hawaii/notebooks/nonstationaryGEV/monthly_extremes_non-stationaryGEV.html">
                        1.4.2.1 Station-based Nonstationary: <br>Return Levels</a></td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="" alt="Annual Historical Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon" >
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <a href="plotly/TimeDependentReturnValue_57.html" >
                                    <img src="#" alt="Annual Historical Extremes Plot" >
                                </a>
                            <div class="caption" data-caption-id="time_dependent_return_value_57">Loading caption...</div>
    
                            </div>
                            
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_historical_extremes_annual_table.png" alt="Annual Historical Extremes Table"  >
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_image.png" alt="Annual Projection Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_plot.png" alt="Annual Projection Extremes Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_table.png" alt="Annual Projection Extremes Table"  >
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td >1.4.2.2 Station-based Nonstationary: <br>Return Level Variation by Climate Index</td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="#" alt="Annual Historical Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_historical_extremes_annual_plot.png" alt="Annual Historical Extremes Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_historical_extremes_annual_table.png" alt="Annual Historical Extremes Table"  >
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_image.png" alt="Annual Projection Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_plot.png" alt="Annual Projection Extremes Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_table.png" alt="Annual Projection Extremes Table"  >
                            </div>
                        </div>
                    </td>
                </tr>
                
                <tr>
                    <td rowspan="1"><a href="https://jwfiedler.github.io/SL_Hawaii/notebooks/regional_and_local/SL_Components_annual.html">1.5 Rankings and Return Levels Summary</a></td>
                    <td ></td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="" alt="Annual Historical Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="placeholders/Picture4.jpg" alt="Annual Components Trend Plot" height="300px" >
                            
                                   <div class="caption" data-caption-id="components_trend_plot">Loading caption...</div>
                            </div>   
                     </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_historical_extremes_annual_table.png" alt="Annual Historical Extremes Table"  >
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_image.png" alt="Annual Projection Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_plot.png" alt="Annual Projection Extremes Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_table.png" alt="Annual Projection Extremes Table"  >
                            </div>
                        </div>
                    </td>
                </tr>
                
                    
                
                <tr>    
                    <td rowspan="3">1.6 Contributions to Sea Level</td>
                    <td ><a href="https://jwfiedler.github.io/SL_Hawaii/notebooks/Contributions.html">1.6.1 Event Contributions</a></td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_small.png'>
                            <div class="hover-content">
                                <img src="placeholders/Picture5.jpg" alt="Annual Historical Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="#" alt="Annual Historical Extremes Plot"  >
                                <div class="caption"><b>Figure XXX.</b> Amplitude of individual covariate contributions (seasonal, long-term trend, climate variability and nodal tidal cycle) to sea level in the location parameter.  The amplitude of each factor is displayed in centimeters.</div>
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="placeholders/Picture7.jpg" alt="Annual Historical Extremes Table"  >
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_image.png" alt="Annual Projection Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_plot.png" alt="Annual Projection Extremes Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                   <div id="table-content-container"> </div>
                                <img src="path_to_projection_extremes_annual_table.png" alt="Annual Projection Extremes Table"  >
                            </div>
                        </div>
                    </td>
                    <tr>
                    <td ><a href="https://jwfiedler.github.io/SL_Hawaii/notebooks/Contributions.html">1.6.2 Contributions to Sea Level Extremes</a></td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_small.png'>
                            <div class="hover-content">
                                <img src="placeholders/Picture5.jpg" alt="Annual Historical Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="#" alt="Annual Historical Extremes Plot"  >
                                <div class="caption"><b>Figure XXX.</b> Amplitude of individual covariate contributions (seasonal, long-term trend, climate variability and nodal tidal cycle) to sea level in the location parameter.  The amplitude of each factor is displayed in centimeters.</div>
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="placeholders/Picture7.jpg" alt="Annual Historical Extremes Table"  >
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_image.png" alt="Annual Projection Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_plot.png" alt="Annual Projection Extremes Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                   <div id="table-content-container"> </div>
                                <img src="path_to_projection_extremes_annual_table.png" alt="Annual Projection Extremes Table"  >
                            </div>
                        </div>
                    </td></tr>
                    <tr>
                    <td ><a href="https://jwfiedler.github.io/SL_Hawaii/notebooks/Contributions.html">1.6.3 Daily</a></td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_small.png'>
                            <div class="hover-content">
                                <img src="placeholders/Picture5.jpg" alt="Annual Historical Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="#" alt="Annual Historical Extremes Plot"  >
                                <div class="caption"><b>Figure XXX.</b> Amplitude of individual covariate contributions (seasonal, long-term trend, climate variability and nodal tidal cycle) to sea level in the location parameter.  The amplitude of each factor is displayed in centimeters.</div>
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="placeholders/Picture7.jpg" alt="Annual Historical Extremes Table"  >
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_image.png" alt="Annual Projection Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_plot.png" alt="Annual Projection Extremes Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                   <div id="table-content-container"> </div>
                                <img src="path_to_projection_extremes_annual_table.png" alt="Annual Projection Extremes Table"  >
                            </div>
                        </div>
                    </td></tr>
                </tr>
            </tr>
                <tr>
                    <td rowspan="2">2.0 Minor Flood Frequency<br> and Duration</td>
                    <td ><a href="https://jwfiedler.github.io/SL_Hawaii/notebooks/FloodFrequency.html">2.1 Minor Flood Frequency</a></td>
                    <td></td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_small.png'>
                            <div class="hover-content">
                                <a href="#" download>
                                    <img src="#" alt="Annual Historical Minor Flood Figure" >
                                </a>
                                <div class="caption" data-caption-id="sl_flood_frequency_map">Loading caption...</div>
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                   <div class="image-container">
                                          <div class="image-container-multi">
                                              <a href="#" download>
                                                  <img src="#" alt="Annual Historical Minor Flood Plot" width="100%" >
                                              </a>
                                              <div class="caption" data-caption-id="sl_flood_frequency_honolulu_days">Loading caption...</div>
                                          </div>
                                          <div class="image-container-multi">
                                              <a href="#" download>
                                                  <img src="#" alt="Annual Historical Minor Flood Plot" width="100%">
                                              </a>
                                              <div class="caption" data-caption-id="sl_flood_frequency_honolulu_hours">Loading caption...</div>
                                          </div>
                                   </div>
                                   <div class="image-container">
                                          <div class="image-container-multi">
                                              <a href="#" download>
                                                  <img src="#" alt="Annual Historical Minor Flood Plot">
                                              </a>
                                              <div class="caption" data-caption-id="sl_flood_frequency_hours">Loading caption...</div>
                                          </div>
                                          <div class="image-container-multi">
                                              <a href="#" download>
                                                  <img src="#" alt="Annual Historical Minor Flood Plot">
                                              </a>
                                              <div class="caption" data-caption-id="sl_flood_frequency_days">Loading caption...</div>
                                          </div>
                                   </div>
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <a href="#" download>

                                    <img src="#" alt="Annual Historical Minor Flood Table"  >
                                </a>
                                <div class="caption" data-caption-id="sl_flood_frequency_table">Loading caption...</div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_minor_flood_annual_image.png" alt="Annual Projection Minor Flood Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_minor_flood_annual_plot.png" alt="Annual Projection Minor Flood Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_minor_flood_annual_table.png" alt="Annual Projection Minor Flood Table"  >
                            </div>
                        </div>
                    </td>
                </tr>
                
        
                <tr>
                    <td ><a href="https://jwfiedler.github.io/SL_Hawaii/notebooks/FloodDuration.html">2.2 Minor Flood Duration</a></td>
                    <td > </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_small.png'>
                            <div class="hover-content">
                                <iframe src="plotly/dropdown_flood_duration_analysis.html" width="500" height="350" style="border:none;"></iframe> 
                                <img src="path_to_historical_flood_duration_annual_image.png" alt="Annual Historical Flood Duration Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <!-- <img src="placeholders/Picture8.jpg" alt="Annual Historical Flood Duration Plot"  > -->
                                <iframe src="plotly/flood_duration_histograms.html" width="500" height="350" style="border:none;"></iframe> 
                                <div class="caption" data-caption-id="flood_duration_histograms">Loading caption...</div>

                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_historical_flood_duration_annual_table.png" alt="Annual Historical Flood Duration Table"  >
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_flood_duration_annual_image.png" alt="Annual Projection Flood Duration Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_flood_duration_annual_plot.png" alt="Annual Projection Flood Duration Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_flood_duration_annual_table.png" alt="Annual Projection Flood Duration Table"  >
                            </div>
                        </div>
                    </td>
                </tr>
                
            </table>
        </div>
        <div class="tab-pane fade" id="intraannual">
            <table>
                <tr>
                    <th>Variable</th>
                    <th>Indicator</th>
                    <th>Indicator Type</th>
                    <th>Historical</th>
                    <th>Outlooks</th>
                </tr>
                <tr>
                    <td rowspan="4">1.0 Sea Level Magnitude</td>
                    <td><a href="https://jwfiedler.github.io/SL_Hawaii/notebooks/regional_and_local/SL_anomaly_intra-annual.html">1.1 Sea Level Anomaly</a></td>
                    <td></td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_small.png'>
                            <div class="hover-content">
                                <span class="nav-arrow left" onclick="prevImage(this)">&#9664;</span>
                                <span class="nav-arrow right" onclick="nextImage(this)">&#9654;</span>
                                <div class="image-container">
                                    <a href="https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/output/SL_anomaly_map.png" download>
                                        <img src="https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/output/SL_anomaly_map.png" alt="Historical Figure" class="active">
                                    </a>
                                </div>
                                <div class="caption" data-caption-id="sl_anomaly_map_intra">Loading caption...</div>
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <a href="https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/output/SL_MMMA_intra.png" download>
                                    <img src="https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/output/SL_MMMA_intra.png" alt="Historical Plot" >
                                </a>
                                <div class="caption" data-caption-id="sl_mmma_intra">Loading caption...</div>

                            </div>
                            </div>

                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <a href="" download>Download Table</a>
                                <div id="csv-table-container" class="table-bordered table-striped table-sm table-responsive table-csv"></div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_image.png" alt="Projection Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_plot.png" alt="Projection Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_table.png" alt="Projection Table"  >
                            </div>
                        </div>
                    </td>
                </tr>
                
                <tr>
                    <td ><a href="https://jwfiedler.github.io/SL_Hawaii/notebooks/regional_and_local/SL_Rankings_intra-annual.html">1.2 Rankings</a></td>
                    <td > </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <a href="" download>
                                    <img src="" alt="Annual Historical Rankings Figure" >
                                </a>
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <a href="https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/output/SL_rankings_Honolulu, Hawaii.png" download>
                                    <img src="placeholders/Picture9.jpg" alt="Intra-Annual Historical Rankings Plot" >
                                </a>
                                <div class="caption" data-caption-id="sl_rankings_intra">Loading caption...</div>
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <a href="" download>
                                    Intra-Annual Historical Rankings Table
                                </a>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_rankings_annual_image.png" alt="Annual Projection Rankings Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_rankings_annual_plot.png" alt="Annual Projection Rankings Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_rankings_annual_table.png" alt="Annual Projection Rankings Table"  >
                            </div>
                        </div>
                    </td>
                </tr>
                
                <tr>
                    <td rowspan="1"><a href="https://jwfiedler.github.io/SL_Hawaii/notebooks/regional_and_local/SL_Extremes_intra-annual.html">1.3 Extremes</a></td>
                    <td><a href="https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/notebooks/nonstationaryGEV/monthly_extremes_non-stationaryGEV.html">1.3.2 Station-based Nonstationary</a></td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="" alt="Intra-Annual Historical Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/output/extremes/SeasonalExtremeVariations_57.png" alt="Intra-Annual Historical Extremes Plot"  >
                                <div class="caption" data-caption-id="seasonal_extreme_variations_57">Loading caption...</div>
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_historical_extremes_annual_table.png" alt="Annual Historical Extremes Table"  >
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_image.png" alt="Annual Projection Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_plot.png" alt="Annual Projection Extremes Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_table.png" alt="Annual Projection Extremes Table"  >
                            </div>
                        </div>
                    </td>
                </tr>
                
                
                
                <tr>
                    <td><a href="https://jwfiedler.github.io/SL_Hawaii/notebooks/regional_and_local/SL_Components.html">1.4 Contributions</a></td>
                    <td >1.4.1 Annual Cycles of Contributions</td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/output/SL_rankings.png" alt="Annual Historical Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="placeholders/Picture10.jpg" alt="Annual Historical Extremes Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_historical_extremes_annual_table.png" alt="Annual Historical Extremes Table"  >
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_image.png" alt="Annual Projection Extremes Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_plot.png" alt="Annual Projection Extremes Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_extremes_annual_table.png" alt="Annual Projection Extremes Table"  >
                            </div>
                        </div>
                    </td>
                </tr>
                 
                
        
                <tr>
                    <td rowspan="1">2.0 Minor Flood Frequency<br> and Duration</td>
              <td><a href="https://jwfiedler.github.io/SL_Hawaii/notebooks/FloodFrequency_intra-annual.html">2.1 Minor Flood Frequency</a></td>
                    <td></td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                    <img src="notyet.png" alt="Annual Historical Minor Flood Figure" >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                    <img src="https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/output/Honolulu_Hawaii_flood_days_intra_annual.png" alt="Intra-Annual Historical Minor Flood Plot" >
                                <div class="caption" data-caption-id="honolulu_hawaii_flood_days_intra_annual">Loading caption...</div>
                            </div>
                        </div>

                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_historical_minor_flood_annual_table.png" alt="Annual Historical Minor Flood Table"  >
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/map_emoji_bw_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_minor_flood_annual_image.png" alt="Annual Projection Minor Flood Figure"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/plot_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_minor_flood_annual_plot.png" alt="Annual Projection Minor Flood Plot"  >
                            </div>
                        </div>
                        <div class="icon">
                            <img src='https://raw.githubusercontent.com/jwfiedler/SL_Hawaii/main/icons/table_icon_small.png'>
                            <div class="hover-content">
                                <img src="path_to_projection_minor_flood_annual_table.png" alt="Annual Projection Minor Flood Table"  >
                            </div>
                        </div>
                    </td>
                </tr>
                

                
            </table>
        </div>
    </div>
</div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
       document.addEventListener('DOMContentLoaded', () => {
           console.log('DOM fully loaded and parsed');
   
           const icons = document.querySelectorAll('.icon');
           console.log('Icons found:', icons);
   
           icons.forEach(icon => {
               icon.addEventListener('mouseenter', () => {
                   console.log('Icon hovered:', icon);
   
                   const hoverContent = icon.querySelector('.hover-content');
                   console.log('Hover content:', hoverContent);
   
                   const rect = hoverContent.getBoundingClientRect();
                   const iconRect = icon.getBoundingClientRect();
   
                   console.log('Hover content rect:', rect);
                   console.log('Icon rect:', iconRect);
   
                   if (iconRect.bottom + rect.height > window.innerHeight) {
                       hoverContent.classList.add('above');
                       console.log('Added class "above" to hover content');
                   } else {
                       hoverContent.classList.remove('above');
                       console.log('Removed class "above" from hover content');
                   }
                   
               });
           });
       });
       document.addEventListener('DOMContentLoaded', () => {
    // Load captions from external file
    loadCaptions();
    
    // Existing code...
    
    // Add table row highlighting functionality
    const tableRows = document.querySelectorAll('table tr');
    
    tableRows.forEach(row => {
        const cells = row.querySelectorAll('td, th');
        
        cells.forEach((cell, cellIndex) => {
            cell.addEventListener('mouseenter', () => {
                highlightRowHierarchy(row, cellIndex);
            });
            
            cell.addEventListener('mouseleave', () => {
                clearHighlights();
            });
        });
    });
    
    // Load and update captions from external JSON file
    async function loadCaptions() {
        try {
            const response = await fetch('./captions.json');
            const captions = await response.json();
            
            // Update all captions with data-caption-id attributes
            document.querySelectorAll('[data-caption-id]').forEach(element => {
                const captionId = element.getAttribute('data-caption-id');
                if (captions[captionId]) {
                    const caption = captions[captionId];
                    element.innerHTML = `<b>${caption.figure}</b> ${caption.text}`;
                    
                    // Also update the associated image source, alt text, and download link if it exists
                    if (caption.src) {
                        // Look for the image container that contains this caption
                        const container = element.closest('.hover-content, .image-container, .image-container-multi, .table-container') || element.parentElement;
                        
                        if (container) {
                            // Find images in the same container or in sibling containers
                            let img = container.querySelector('img');
                            if (!img) {
                                // Look in the previous sibling container
                                const prevContainer = container.previousElementSibling;
                                if (prevContainer) {
                                    img = prevContainer.querySelector('img');
                                }
                            }
                            if (!img) {
                                // Look in the parent container and then search all images
                                const parentContainer = container.parentElement;
                                if (parentContainer) {
                                    img = parentContainer.querySelector('img:not([src*="icons/"])');
                                }
                            }
                            
                            if (img && !img.src.includes('icons/')) { // Don't change icon images
                                img.src = caption.src;
                                if (caption.alt) {
                                    img.alt = caption.alt;
                                }
                            }
                            
                            // Update download links in the same way
                            let downloadLink = container.querySelector('a[href][download], a[href*="raw.githubusercontent.com"]');
                            if (!downloadLink) {
                                const prevContainer = container.previousElementSibling;
                                if (prevContainer) {
                                    downloadLink = prevContainer.querySelector('a[href][download], a[href*="raw.githubusercontent.com"]');
                                }
                            }
                            if (!downloadLink) {
                                // Look in parent container for download links
                                const parentContainer = container.parentElement;
                                if (parentContainer) {
                                    downloadLink = parentContainer.querySelector('a[href][download], a[href*="raw.githubusercontent.com"]');
                                }
                            }
                            
                            if (downloadLink && !downloadLink.href.includes('icons/')) { // Don't change icon links
                                downloadLink.href = caption.src;
                            }
                        }
                    }
                }
            });
            
            // Update icon colors based on image availability
            updateIconColors();
        } catch (error) {
            console.error('Error loading captions:', error);
        }
    }

    async function updateIconColors() {
        try {
            // Load captions data to check what content exists
            const response = await fetch('./captions.json');
            const captions = await response.json();
            
            // Find all icon containers
            document.querySelectorAll('.icon').forEach(iconDiv => {
                const iconImg = iconDiv.querySelector('img[src*="icons/"]');
                if (iconImg) {
                    // Check if this icon's hover content has captions with real data
                    const hoverContent = iconDiv.querySelector('.hover-content');
                    let hasRealContent = false;
                    
                    if (hoverContent) {
                        // Look for captions in this hover content
                        const captionElements = hoverContent.querySelectorAll('[data-caption-id]');
                        
                        captionElements.forEach(captionElement => {
                            const captionId = captionElement.getAttribute('data-caption-id');
                            if (captions[captionId] && captions[captionId].src && 
                                !captions[captionId].src.includes('path_to_') && 
                                !captions[captionId].src.includes('placeholder') &&
                                captions[captionId].src !== '#' && 
                                captions[captionId].src !== '') {
                                hasRealContent = true;
                            }
                        });
                        
                        // Also check for iframes (interactive content)
                        const iframe = hoverContent.querySelector('iframe');
                        if (iframe) {
                            hasRealContent = true;
                        }
                    }
                    
                    // Get the current icon path
                    const currentSrc = iconImg.src;
                    console.log('Processing icon:', currentSrc, 'hasRealContent:', hasRealContent);
                    
                    // Only convert icons that we know exist on GitHub
                    let newIconSrc;
                    
                    if (hasRealContent) {
                        // Convert to color versions - temporarily skip map emoji until it's on main branch
                        if (currentSrc.includes('plot_icon_small.png')) {
                            newIconSrc = currentSrc.replace('plot_icon_small.png', 'plot_icon_color_small.png');
                        } else if (currentSrc.includes('table_icon_small.png')) {
                            newIconSrc = currentSrc.replace('table_icon_small.png', 'table_icon_color_small.png');
                        } else if (currentSrc.includes('text_icon_small.png')) {
                            newIconSrc = currentSrc.replace('text_icon_small.png', 'text_icon_color_small.png');
                        } else if (currentSrc.includes('map_emoji_bw_small.png')) {
                            // Use regular map emoji instead of color until color version is on main branch
                            newIconSrc = currentSrc.replace('map_emoji_bw_small.png', 'map_emoji_small.png');
                        }
                    } else {
                        // Convert to black & white versions
                        if (currentSrc.includes('plot_icon_color_small.png')) {
                            newIconSrc = currentSrc.replace('plot_icon_color_small.png', 'plot_icon_bw_small.png');
                        } else if (currentSrc.includes('plot_icon_small.png')) {
                            newIconSrc = currentSrc.replace('plot_icon_small.png', 'plot_icon_bw_small.png');
                        } else if (currentSrc.includes('table_icon_color_small.png')) {
                            newIconSrc = currentSrc.replace('table_icon_color_small.png', 'table_icon_bw_small.png');
                        } else if (currentSrc.includes('table_icon_small.png')) {
                            newIconSrc = currentSrc.replace('table_icon_small.png', 'table_icon_bw_small.png');
                        } else if (currentSrc.includes('text_icon_color_small.png')) {
                            newIconSrc = currentSrc.replace('text_icon_color_small.png', 'text_icon_bw_small.png');
                        } else if (currentSrc.includes('text_icon_small.png')) {
                            newIconSrc = currentSrc.replace('text_icon_small.png', 'text_icon_bw_small.png');
                        } else if (currentSrc.includes('map_emoji_small.png')) {
                            newIconSrc = currentSrc.replace('map_emoji_small.png', 'map_emoji_bw_small.png');
                        }
                    }
                    
                    // Update the icon if we determined a new source
                    if (newIconSrc && newIconSrc !== currentSrc) {
                        console.log('Updating icon from', currentSrc, 'to', newIconSrc);
                        iconImg.src = newIconSrc;
                    }
                }
            });
        } catch (error) {
            console.error('Error loading captions for icon colors:', error);
        }
    }
    
    function highlightRowHierarchy(currentRow, hoveredCellIndex) {
        clearHighlights();
        
        const cells = currentRow.querySelectorAll('td, th');
        
        // Highlight all cells from the hovered cell to the right
        for (let i = hoveredCellIndex; i < cells.length; i++) {
            if (i === hoveredCellIndex) {
                cells[i].classList.add('highlight-current');
                cells[i].style.backgroundColor = 'rgba(185, 216, 238, 1.0)';
            } else {
                cells[i].classList.add('highlight-parent');
                cells[i].style.backgroundColor = 'rgba(185, 216, 238, 0.8)';
            }
        }
        
        // Find and highlight parent cells
        highlightParentCells(currentRow, hoveredCellIndex);
    }
    
    function highlightParentCells(currentRow, hoveredCellIndex) {
        const table = currentRow.closest('table');
        const allRows = Array.from(table.querySelectorAll('tr'));
        const currentRowIndex = allRows.indexOf(currentRow);
        
        // Look backwards through previous rows to find parent cells
        for (let i = currentRowIndex - 1; i >= 0; i--) {
            const previousRow = allRows[i];
            const previousCells = previousRow.querySelectorAll('td, th');
            
            previousCells.forEach((cell, cellIndex) => {
                const rowspan = parseInt(cell.getAttribute('rowspan')) || 1;
                
                // If this cell spans down to our current row AND is in the first column (main categories)
                if (i + rowspan > currentRowIndex && cellIndex === 0) {
                    cell.style.backgroundColor = 'rgba(185, 216, 238, 0.8)';
                }
            });
        }
    }
    
    function clearHighlights() {
        // Clear all highlights and inline styles from ALL tables
        const allTables = document.querySelectorAll('table');
        allTables.forEach(table => {
            const allCells = table.querySelectorAll('td, th');
            allCells.forEach(cell => {
                cell.classList.remove('highlight-parent', 'highlight-current');
                cell.style.backgroundColor = ''; // Clear inline styles
            });
        });
    }
});
</script>
</body>
</html>